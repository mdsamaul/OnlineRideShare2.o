<div class="h-[80vh] w-full overflow-auto overflow-x-auto overflow-y-auto flex justify-center items-center">
  <div #invoiceSection id="invoice-section" class="w-full max-w-md lg:max-w-lg xl:max-w-2xl mx-auto mt-10 p-6 rounded-lg shadow-md">
    
<div *ngIf="isLoading" class="loading-overlay" style="z-index: 100000;">
  <div class="spinner"></div>
</div>
    <div class="text-center mb-8">
      <h1 class="text-2xl font-bold text-gray-800">Online Ride Share</h1>
      <div class="text-sm text-gray-500">
        <p>123, Dhaka, Bangladesh</p>     
        <p>+880 1981 154 473</p>
      </div>
    </div>

    <div class="flex justify-center w-full mb-4">
      <div>
        <div class="w-60 mx-auto">
          <hr class="border-t-2 border-gray-400">
        </div>
        <h2 class="text-lg font-semibold text-gray-700 text-center">Invoice</h2>
        <div class="w-60 mx-auto">
          <hr class="border-t-2 border-gray-400">
        </div>
      </div>
    </div>

    <div class="flex justify-around w-full gap-4 text-sm text-gray-600 py-6">
      <div>
        <p><strong>Invoice #:</strong> 477400{{invoice!.invoiceId}}</p>
        <p><strong>Driver :</strong> {{driver.driverName}}</p>
        <p><strong>Phone no :</strong> {{driver.phoneNumber}}</p>
      </div>
      <div>
        <p><strong>Invoice Date:</strong> {{invoice!.paymentTime}}</p>
        <p><strong>Rider:</strong> {{customer.customerName}}</p>
        <p><strong>Phone no :</strong> {{customer.customerPhoneNumber}}</p>
      </div>
    </div>
    <p><strong>Payment Terms:</strong> 100% on delivery</p>
    <div class="mb-6">
      <p class="text-sm font-semibold text-gray-700 mt-2"><strong>Billed To:</strong><small>Online Ride Sharing</small> {{invoice.Particular}}</p>
    </div>

    <div class="overflow-x-auto">
      <table class="w-full min-w-full text-left border-collapse border border-gray-300">
        <thead class="bg-gray-200 border-b"> 
          <tr>
            <th class="p-3 text-sm font-semibold text-gray-700 border">No</th>
            <th class="p-3 text-sm font-semibold text-gray-700 border">Services</th>
            <th class="p-3 text-sm font-semibold text-gray-700 border">Payment Status</th>
            <th class="p-3 text-sm font-semibold text-gray-700 border">Paid</th>
            <th class="p-3 text-sm font-semibold text-gray-700 border">Amount</th>
          </tr>
        </thead>
        <tbody>
          <tr class="border-b hover:bg-gray-100">
            <td class="p-3 text-sm border">1</td>
            <td class="p-3 text-sm border">Ride Share</td>
            <td class="p-3 text-sm border">
              <span *ngFor="let paymentMethodItem of allPaymentsMethod">
                <span *ngIf="(paymentMethodItem.paymentMethodId == invoice.paymentMethodId)">
                  {{paymentMethodItem.methodType}}
                </span>
              </span>
            </td>
            <td class="p-3 text-sm border">{{(payment.status == 'Completed') ? "Paid" : "Pending"}}</td>
            <td class="p-3 text-sm border">${{payment.amount}}</td>
          </tr>
          <tr>
            <td colspan="4" class="p-3 text-sm text-right font-semibold border">Total Amount:</td>
            <td class="p-3 text-sm font-semibold border">${{payment.amount}}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="mt-8 text-center">
      <p class="text-sm text-gray-500">Contact Information:</p>
      <p class="text-sm text-gray-500">Email: mdsamaul843&#64;gmail.com</p>
      <p class="text-sm text-gray-500">Website: www.online-ride-share.com</p>
      <h3 class="text-lg font-bold text-gray-700 mt-4">THANK YOU FOR YOUR RIDE SHARING</h3>
    </div>

    <div class="text-center mt-6 space-x-4">
      <!-- Download Button -->
      <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
        (click)="downloadInvoicePdf()">
        Download Invoice
      </button>

      <!-- Print Button -->
      <button class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"
        (click)="printInvoice()">
        Print Invoice
      </button>
    </div>
  </div>
</div>

